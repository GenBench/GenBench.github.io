---
title: "GenBench Evaluation Cards"
excerpt: "Generate an evaluation card for your paper"
permalink: /eval_cards/
layout: single_wide
header:
    <!-- overlay_image: /assets/images/unsplash-image-1.jpg -->
    overlay_color: "#268"
---

<!-- Set some styles for the generation script -->
<style>
    .property::first-letter, .field-label::first-letter {
        text-transform:capitalize;
    }

    .property {
        font-weight: bold;
        text-align: center;
        background-color: lightgray;
    }

    .exp-property-row {
        display: block;
    }

    .exp-property-col {
        padding: 5px;
    }

    .exp-property-checkboxes {
        display: flex;
        flex-flow: row;
        justify-content: center;
    }

    .field-label {
        margin-right: 25px;
        margin-left: 5px;
        text-align: center;
    }

    .btn{
        --bs-btn-padding-x:0.75rem;
        --bs-btn-padding-y:0.375rem;
        --bs-btn-font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        --bs-btn-font-size:1rem;
        --bs-btn-font-weight:400;
        --bs-btn-line-height:1.5;
        --bs-btn-color:#212529;
        --bs-btn-bg:transparent;
        --bs-btn-border-width:1px;
        --bs-btn-border-color:transparent;
        --bs-btn-border-radius:0.375rem;
        --bs-btn-hover-border-color:transparent;
        --bs-btn-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.15),0 1px 1px rgba(0, 0, 0, 0.075);
        --bs-btn-disabled-opacity:0.65;
        --bs-btn-focus-box-shadow:0 0 0 0.25rem rgba(var(--bs-btn-focus-shadow-rgb), .5);
        display:inline-block;
        padding:var(--bs-btn-padding-y)
        var(--bs-btn-padding-x);
        font-family:var(--bs-btn-font-family);
        font-size:var(--bs-btn-font-size);
        font-weight:var(--bs-btn-font-weight);
        line-height:var(--bs-btn-line-height);
        color:var(--bs-btn-color);
        text-align:center;
        text-decoration:none;
        vertical-align:middle;
        cursor:pointer;
        -webkit-user-select:none;
        -moz-user-select:none;
        user-select:none;
        border:var(--bs-btn-border-width) solid var(--bs-btn-border-color);
        border-radius:var(--bs-btn-border-radius);
        background-color:var(--bs-btn-bg);
        transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}
    @media (prefers-reduced-motion:reduce){.btn{transition:none}}

    .btn:hover{
        color:var(--bs-btn-hover-color);
        background-color:var(--bs-btn-hover-bg);
        border-color:var(--bs-btn-hover-border-color)
    }

    .btn-primary{
        --bs-btn-color:#fff;
        --bs-btn-bg:#0d6efd;
        --bs-btn-border-color:#0d6efd;
        --bs-btn-hover-color:#fff;
        --bs-btn-hover-bg:#0b5ed7;
        --bs-btn-hover-border-color:#0a58ca;
        --bs-btn-focus-shadow-rgb:49,132,253;
        --bs-btn-active-color:#fff;
        --bs-btn-active-bg:#0a58ca;
        --bs-btn-active-border-color:#0a53be;
        --bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);
        margin-right: 5px; /*added specially for the "Generate GenBench evaluation card" button*/
    }

    .btn-outline-success{
        --bs-btn-color: #11999e;
        --bs-btn-border-color:#11999e;
        --bs-btn-hover-color:#fff;
        --bs-btn-hover-bg:#11999e;
        --bs-btn-hover-border-color:#11999e;
        --bs-btn-focus-shadow-rgb:25,135,84;
        --bs-btn-active-color:#fff;
        --bs-btn-active-bg:#11999e;
        --bs-btn-active-border-color:#11999e;
        --bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);
    }

    .btn-outline-secondary{
        --bs-btn-color:#6c757d;
        --bs-btn-border-color:#6c757d;
        --bs-btn-hover-color:#fff;
        --bs-btn-hover-bg:#6c757d;
        --bs-btn-hover-border-color:#6c757d;
        --bs-btn-focus-shadow-rgb:108,117,125;
        --bs-btn-active-color:#fff;
        --bs-btn-active-bg:#6c757d;
        --bs-btn-active-border-color:#6c757d;
        --bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);
    }

    .btn-group-lg>.btn {
        --bs-btn-padding-y:0.5rem;
        --bs-btn-padding-x:1rem;
        --bs-btn-font-size:1.25rem;
        --bs-btn-border-radius:0.5rem
    }

    .btn-group-sm>.btn {
        --bs-btn-padding-y:0.25rem;
        --bs-btn-padding-x:0.5rem;
        --bs-btn-font-size:0.875rem;
        --bs-btn-border-radius:0.25rem
    }

    .btn-group{
        position:relative;
        display:inline-flex;
        vertical-align:middle
    }

    .btn-group>.btn{
        position:relative;
        flex:1 1 auto
    }

    .btn-group{border-radius:.375rem}
    .btn-group>.btn-group:not(:first-child),.btn-group>:not(.btn-check:first-child)+.btn{
        margin-left:-1px
    }

    .btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn.dropdown-toggle-split:first-child,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){
        border-top-right-radius:0;border-bottom-right-radius:0
    }

    .btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn{
        border-top-left-radius:0;border-bottom-left-radius:0
    }

    /* Tooltip container */
    .tooltip {
        position: relative;
        display: inline-block;
        border-bottom: 1px dotted gray; /* If you want dots under the hoverable text */
    }

    /* Tooltip text */
    .tooltip .tooltiptext {
        visibility: hidden;
        background-color: black;
        font-size: small;
        color: #fff;
        text-align: center;
        padding: 5px;
        border-radius: 6px;

        /* Position the tooltip text - see examples below! */
        position: absolute;
        z-index: 1;
        width: 200px;
        bottom: 100%;
        left: 50%;
        margin-left: -100px; /* Use half of the width (120/2 = 60), to center the tooltip */
        opacity: 0;
        transition: opacity .5s;
    }

    .tooltip .tooltiptext::after {
        content: " ";
        position: absolute;
        top: 100%; /* At the bottom of the tooltip */
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: black transparent transparent transparent;
    }

    /* Show the tooltip text when you mouse over the tooltip container */
    .tooltip:hover .tooltiptext {
        visibility: visible;
        opacity: 1;
    }
</style>


<section>
    <p>
        You can use this page to easily generate LaTeX code for <i>GenBench Evaluation Cards</i>.
        Just register all your experiments below and click the Generate button to generate the corresponding LaTeX code.
        Download the code by clicking the Download button, or copy it to your clipboard with the one next to it.
        The download produces a file that you can compile standalone; to include only the table in your paper, just copy the packages over to your preamble, save everything from <code style="color: #11999e">%Set tabular size</code> to the last <code style="color: #11999e">end tabular</code>, and import that file using <code style="color: #11999e">\input{filename}</code>.
    </p>
    <p class="mb-2">Please indicate the <a href="/taxonomy/"><span
            style="font-variant: small-caps">GenBench</span> taxonomy values</a> for all the experiments in your study.
    </p>
    <div id="experiments"></div>
    <div class="mb-3">
        <button type="button" class="btn btn-outline-success" id="btn-add"><i class="bi bi-plus-circle"></i> Add Experiment</button>
        <button type="button" class="btn btn-outline-secondary" style="display: none;" id="btn-remove"><i class="bi bi-dash-circle"></i> Remove Experiment</button>
    </div>
    <div class="exp-property-row">
        <button type="button" class="btn btn-primary" id="btn-generate-page-wide">Generate <span style="font-variant: small-caps">GenBench</span> evaluation card page-wide</button>
        <button type="button" class="btn btn-primary" id="btn-generate-one-column">Generate <span style="font-variant: small-caps">GenBench</span> evaluation card one column</button>
        <div class="btn-group" style="display: none;" id="btn-latex-text-actions">
            <button type="button" id="btn-copy" class="btn btn-outline-secondary"><i class="bi bi-clipboard-fill"></i></button>
            <a id="btn-download" class="btn btn-outline-secondary"><i class="bi bi-cloud-arrow-down-fill"></i></a>
        </div>
    </div>
    <div id="latex-display" class="mt-3">
        <pre><code data-lang="latex" id="latex-code" style="font-size: smaller;"></code></pre>
    </div>
</section>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.2.min.js" integrity="sha256-2krYZKh//PcchRtd+H+VyyQoZ/e3EcrkxhM8ycwASPA=" crossorigin="anonymous"></script>
<script>
    let expNum = 1;
    const attrValues = {
        'motivation': ['practical', 'cognitive', 'intrinsic', 'fairness_inclusivity'],
        'type': ['compositional', 'structural', 'across_task', 'across_language', 'across_domain', 'robustness'],
        'shift_type': ['covariate', 'label', 'full', 'assumed'],
        'shift_source': ['naturally_occurring', 'partitioned_natural_data', 'generated_shifts', 'fully_generated_data'],
        'shift_locus': ['train-test', 'finetune_train-test', 'pretrain-train', 'pretrain-test']
    }
    const attrTooltips = {
        'motivation': [
            'Aim to understand in which scenarios models can be applied, or with the concrete aim to improve them.',
            'Study generalisation from a cognitive angle, or aim to learn more about humans.',
            'Aim to understand what kind of solutions a model implements or what factors impact that.',
            'Study whether models generalise fairly, for instance to different sub-demographics or low-resource languages.'
        ],
        'type': [
            'Whether models can compositionally assign meanings to new inputs',
            'Whether models can generalise to correct syntactic or morphological structures – without considering whether those structures can also be correctly interpreted',
            'Whether a single model can generalise from one task to another.',
            'Whether a single model can generalise from one language to another.',
            'Whether models can generalise from one domain to another.',
            'How robustly models generalise when faced with different input distributions representing the same task.'],
        'shift_type': [
            'Shifts in the input distribution only.',
            'Shifts in the conditional probability of the output given the input.',
            'Shift in both input and conditional output distribution at the same time.',
            'Relationship between the different data distributions is not checked.'
        ],
        'shift_source': [
            'Naturally different train/test corpora, that are not systematically adjusted in any way.',
            'All data involved is natural, but the data is split along unnatural dimensions.',
            'The training corpus is a fully natural corpus, but the test corpus is (adversarially) generated – or the other way around.',
            'Data is fully generated, for instance using templates or a grammar.'
        ],
        'shift_locus': [
            'A model is trained on one distribution and tested on another.',
            'A pretrained model is finetuned on some data and then tested on a dataset that is o.o.d. w.r.t. the finetuning data.',
            'Shifts between pretraining and training data, but not between the finetuning and testing data.',
            'A pretrained model that is not further finetuned but tested directly.'
        ]
    }
    // symbols to define experiments
    const exp_names = {
        1: "\\expone", 2: "\\exptwo", 3: "\\expthree",
        4: "\\expfour", 5: "\\expfive", 6: "\\expsix",
        7: "\\expseven", 8: "\\expeight", 9: "\\expnine",
        10: "\\expten", 11: "\\expeleven", 12: "\\exptwelve",
        13: "\\expthirteen", 14: "\\expfourteen", 15: "\\expfifteen",
        16: "\\expsixteen", 17: "\\expseventeen", 18: "\\expeighteen",
        19: "\\expnineteen", 20: "\\exptwenty"
    }
    const exp_symbols = {
        1: "square", 2: "bigtriangleup", 3: "bigcirc",
        4: "odot", 5: "triangleleft", 6: "bullet",
        7: "vee", 8: "dagger", 9: "oplus",
        10: "bigtriangledown", 11: "ast", 12: "star",
        13: "perp", 14: "wr", 15: "times",
        16: "forall", 17: "nsim", 18: "lor",
        19: "neg", 20: "land"
    }

    const latex_header = ` \
        \n\\documentclass{article} \
        \n \
        \n\\usepackage{xcolor} \
        \n\\usepackage{colortbl} \
        \n\\usepackage{amssymb} \
        \n \
        \n\\begin{document} \
        \n`

    const latex_header_one_column = "\n% Set tabular size\n\\newcommand{\\tabularwidth}{\\columnwidth}"
    const latex_header_page_wide = "\n% Set tabular size\n\\newcommand{\\tabularwidth}{\\textwidth}"

    let exp_defs = ""     // Create variable to store experiment symbols to be generated
    let latex_body = ""

    const axis_cell_defs_one_column = {
        'motivation': `\n\\begin{tabular}{p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering}} \
                       \n\\textit{Practical} & \\textit{Cognitive} & \\textit{Intrinsic} & \\textit{Fairness}\\\\\n`,
        'type':  `\n\\begin{tabular}{m{0.17\\tabularwidth}<{\\centering} m{0.20\\tabularwidth}<{\\centering} m{0.14\\tabularwidth}<{\\centering} m{0.17\\tabularwidth}<{\\centering} m{0.18\\tabularwidth}<{\\centering} m{0.14\\tabularwidth}<{\\centering}} \
                  \n\\textit{Compo- sitional} & \\textit{Structural} & \\textit{Cross Task} & \\textit{Cross Language} & \\textit{Cross Domain} & \\textit{Robust- ness}\\\\\n`,
        'shift_type': `\n\\begin{tabular}{p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering}} \
                       \n\\textit{Covariate} & \\textit{Label} & \\textit{Full} & \\textit{Assumed}\\\\ \ \n`,
        'shift_source': `\n\\begin{tabular}{p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering}} \
                         \n\\textit{Naturally occuring} & \\textit{Partitioned natural} & \\textit{Generated shift} & \\textit{Fully generated}\\\\\n`,
        'shift_locus': `\n\\begin{tabular}{p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering}} \
                        \n\\textit{Train--test} & \\textit{Finetune train--test} & \\textit{Pretrain--train} & \\textit{Pretrain--test}\\\\\n`
    }

    const axis_cell_defs_page_wide = {
        'motivation': `\n\\begin{tabular}{p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering}} \
                       \n\\textit{Practical} & \\textit{Cognitive} & \\textit{Intrinsic} & \\textit{Fairness}\\\\\n`,
        'type':  `\n\\begin{tabular}{m{0.21\\tabularwidth}<{\\centering} m{0.2\\tabularwidth}<{\\centering} m{0.13\\tabularwidth}<{\\centering} m{0.13\\tabularwidth}<{\\centering} m{0.13\\tabularwidth}<{\\centering} m{0.2\\tabularwidth}<{\\centering}} \
                  \n\\textit{Compositional} & \\textit{Structural} & \\textit{Cross Task} & \\textit{Cross Language} & \\textit{Cross Domain} & \\textit{Robustness}\\\\\n`,
        'shift_type': `\n\\begin{tabular}{p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering}} \
                       \n\\textit{Covariate} & \\textit{Label} & \\textit{Full} & \\textit{Assumed}\\\\ \ \n`,
        'shift_source': `\n\\begin{tabular}{p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering}} \
                         \n\\textit{Naturally occuring} & \\textit{Partitioned natural} & \\textit{Generated shift} & \\textit{Fully generated}\\\\\n`,
        'shift_locus': `\n\\begin{tabular}{p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering} p{0.25\\tabularwidth}<{\\centering}} \
                        \n\\textit{Train--test} & \\textit{Finetune train--test} & \\textit{Pretrain--train} & \\textit{Pretrain--test}\\\\\n`
    }

    const axis_headers = {
        'motivation': ` \
              \n% Record the experiments' motivations \
              \n\\rowcolor{gray!60} \
              \n\\textbf{Motivation} \\\\ \
              \n\\footnotesize`,
        'type':  ` \
              \n% Record the experiments' generalisation type \
              \n\\rowcolor{gray!60} \
              \n\\textbf{Generalisation type} \\\\ \
              \n\\footnotesize`,
        'shift_type': ` \
            \n% Record the experiments' shift type \
            \n\\rowcolor{gray!60} \
            \n\\textbf{Shift type} \\\\ \
            \n\\footnotesize`,
        'shift_source': ` \
            \n% Record the experiments' shift source \
            \n\\rowcolor{gray!60} \
            \n\\textbf{Shift source} \\\\ \
            \n\\footnotesize`,
        'shift_locus': ` \
            \n% Record the experiments' shift locus \
            \n\\rowcolor{gray!60} \
            \n\\textbf{Shift locus}\\\\ \
            \n\\footnotesize`
    }
    const axes_footer_all = "\n\\vspace{2mm} \\\\\n\\end{tabular}\\\\\n"

    const latex_footer = "\n\\end{document}"
    const table_header = `\
        \n% Create table \
        \n\\renewcommand{\\arraystretch}{1.1} \
        \n\\setlength{\\tabcolsep}{0mm} \
        \n\\begin{tabular}{|p{\\tabularwidth}<{\\centering}|} \
        \n\\hline\n`

    const table_footer = "\n\\hline\n\\end{tabular}\n"

    function setExperimentSymbols() {
        // Add experiment symbols
        latex_body = "\n\n% Set symbols for experiments\n"
        exp_defs = ''
        for (let eNum = 1; eNum < expNum; eNum++) {
            // exp_defs += "\n" + exp_symbols[eNum];
            exp_defs += "\\newcommand{" + exp_names[eNum] + "}{$\\" + exp_symbols[eNum] + "$}\n";
        }

        // Add table header
        latex_body += exp_defs;
        latex_body += table_header;

    }

    function addTableBody(nColumns) {
        // Loop over axes
        for (const [axis, header] of Object.entries(axis_headers)) {
            // Add axis subtable header
            latex_body += header;
            if (nColumns === 1) {
                latex_body += axis_cell_defs_one_column[axis]
            } else if (nColumns === 2) {
                latex_body += axis_cell_defs_page_wide[axis];
            }

            // Loop over values for current axis
            for (const valIndex in attrValues[axis]) {

                // Make sure ampersands get added
                if (valIndex !== 0) {
                    latex_body += "& ";
                }
                const valName = attrValues[axis][valIndex]
                // loop over recorded experiments
                for (let eNum = 1; eNum < expNum; eNum++) {
                    // check if value is ticked for current experiment
                    if ($('#exp-'+eNum+'-'+axis+'-'+valName).is(':checked')) {
                        latex_body += exp_names[eNum] + "\\hspace{0.8mm}";
                    }
                }

                latex_body += "\t\t% " + valName + "\n";
            }

            // Add axis sub-table footer
            latex_body += axes_footer_all
        }

        latex_body += table_footer
    }

    function generateLatexOneColumn() {

        // Set experiment symbols
        setExperimentSymbols();

        // Generate the table
        addTableBody(1);

        // Generate everything, and add download and copy links
        $('#latex-code').empty().append(latex_header + latex_header_one_column + latex_body + latex_footer);
        $("#btn-copy").html('<i class="bi bi-clipboard-fill"></i>');
        setDownloadLink();
        $('#btn-latex-text-actions').show();

    }

    function generateLatexPageWide() {

        // Set experiment symbols
        setExperimentSymbols();

        // Generate the table
        addTableBody(2);

        // Generate everything, and add download and copy links
        $('#latex-code').empty().append(latex_header + latex_header_page_wide + latex_body + latex_footer);
        $("#btn-copy").html('<i class="bi bi-clipboard-fill"></i>');
        setDownloadLink();
        $('#btn-latex-text-actions').show();

    }

    function copyToClip() {
        const textToCopy = $('#latex-code').text();
        function listener(e) {
            e.clipboardData.setData("text/html", textToCopy);
            e.clipboardData.setData("text/plain", textToCopy);
            e.preventDefault();
            $("#btn-copy").html('<i class="bi bi-clipboard-check-fill"></i>')
        }
        document.addEventListener("copy", listener);
        document.execCommand("copy");
        document.removeEventListener("copy", listener);
    }

    function setDownloadLink() {
        const textToCopy = $('#latex-code').text();
        $('#btn-download').attr("download", "GenBench_eval_card.tex").attr("href", "data:application/octet-stream;charset=utf-8," +  encodeURIComponent(textToCopy));
    }

    function addExperiment() {
        if ( expNum > 20 ) {
            window.confirm(`Well done, you have a lot of experiments in your study! \
            \n\n The maximum number of experiments you can register with this tool is 20. You can add more experiments manually, or reach out to us if you need help. \
            `);
            return;
        }
        const expElem = $('<div class="experiment mb-3">')
            .append($('<h4>').text('Experiment ' + expNum));
        for (const [key, value] of Object.entries(attrValues)) {
            const tooltipsValue = attrTooltips[key]
            const rowElem = $('<div class="exp-property-row">');
            const checkboxesElem = $('<div class="exp-property-col exp-property-checkboxes">');
            rowElem.append($('<div class="exp-property-col property">').text(key.replace('_',' ')))
            for (const propIndex in value) {
                const propertyName = value[propIndex];
                const tooltip = tooltipsValue[propIndex];
                checkboxesElem
                    .append($('<input type="checkbox" id="exp-'+expNum+'-'+key+'-'+propertyName+'">'))
                    .append($('<label class="field-label tooltip" for="exp-'+expNum+'-'+key+'-'+propertyName+'">'+propertyName.replaceAll('_',' ')+'<span class="tooltiptext">'+tooltip+'</span></label>'))
            }
            rowElem.append(checkboxesElem);
            expElem.append(rowElem);
        }

        $('#experiments').append(expElem);
        $('#btn-remove').show();
        expNum += 1;
    }

    function removeExperiment() {
        $('.experiment').last().remove();
        expNum -= 1;
    }
    $('#btn-add').click(addExperiment);
    $('#btn-remove').click(removeExperiment);
    $('#btn-generate-one-column').click(generateLatexOneColumn);
    $('#btn-generate-page-wide').click(generateLatexPageWide);
    $('#btn-copy').click(copyToClip);
</script>
