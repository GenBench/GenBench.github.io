---
title: "GenBench Evaluation Cards"
excerpt: "Generate an evaluation card for your paper"
permalink: /eval_cards/
layout: single_wide
header:
  <!-- overlay_image: /assets/images/unsplash-image-1.jpg -->
  overlay_color: "#268"
---

<!-- Set some styles for the generation script -->
<style>
    .property::first-letter, .field-label::first-letter {
        text-transform:capitalize;
    }

    .property {
        font-weight: bold;
        width: 10%;
    }

    .exp-property-row {
        display: flex;
        flex-flow: row wrap;
        justify-content: flex-start;
    }

    .exp-property-col {
        padding: 5px;
        text-align: left;
    }

    .exp-property-checkboxes {
        display: flex;
        flex-flow: row;
    }

    .field-label {
        margin-right: 15px;
        margin-left: 3px;
        text-align: center;
    }

    .btn{
       --bs-btn-padding-x:0.75rem;
       --bs-btn-padding-y:0.375rem;
       --bs-btn-font-family: ;
       --bs-btn-font-size:1rem;
       --bs-btn-font-weight:400;
       --bs-btn-line-height:1.5;
       --bs-btn-color:#212529;
       --bs-btn-bg:transparent;
       --bs-btn-border-width:1px;
       --bs-btn-border-color:transparent;
       --bs-btn-border-radius:0.375rem;
       --bs-btn-hover-border-color:transparent;
       --bs-btn-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.15),0 1px 1px rgba(0, 0, 0, 0.075);
       --bs-btn-disabled-opacity:0.65;
       --bs-btn-focus-box-shadow:0 0 0 0.25rem rgba(var(--bs-btn-focus-shadow-rgb), .5);
       display:inline-block;
       padding:var(--bs-btn-padding-y) 
       var(--bs-btn-padding-x);
       font-family:var(--bs-btn-font-family);
       font-size:var(--bs-btn-font-size);
       font-weight:var(--bs-btn-font-weight);
       line-height:var(--bs-btn-line-height);
       color:var(--bs-btn-color);
       text-align:center;
       text-decoration:none;
       vertical-align:middle;
       cursor:pointer;
       -webkit-user-select:none;
       -moz-user-select:none;
       user-select:none;
       border:var(--bs-btn-border-width) solid var(--bs-btn-border-color);
       border-radius:var(--bs-btn-border-radius);
       background-color:var(--bs-btn-bg);
       transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}
       @media (prefers-reduced-motion:reduce){.btn{transition:none}}

       .btn:hover{
            color:var(--bs-btn-hover-color);
            background-color:var(--bs-btn-hover-bg);
            border-color:var(--bs-btn-hover-border-color)
        }
        
        .btn-primary{
            --bs-btn-color:#fff;
            --bs-btn-bg:#0d6efd;
            --bs-btn-border-color:#0d6efd;
            --bs-btn-hover-color:#fff;
            --bs-btn-hover-bg:#0b5ed7;
            --bs-btn-hover-border-color:#0a58ca;
            --bs-btn-focus-shadow-rgb:49,132,253;
            --bs-btn-active-color:#fff;
            --bs-btn-active-bg:#0a58ca;
            --bs-btn-active-border-color:#0a53be;
            --bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);
            margin-right: 5px; /*added specially for the "Generate GenBench evaluation card" button*/
        }
        
        .btn-outline-success{
            --bs-btn-color:#198754;
            --bs-btn-border-color:#198754;
            --bs-btn-hover-color:#fff;
            --bs-btn-hover-bg:#198754;
            --bs-btn-hover-border-color:#198754;
            --bs-btn-focus-shadow-rgb:25,135,84;
            --bs-btn-active-color:#fff;
            --bs-btn-active-bg:#198754;
            --bs-btn-active-border-color:#198754;
            --bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);
        }

        .btn-outline-secondary{
            --bs-btn-color:#6c757d;
            --bs-btn-border-color:#6c757d;
            --bs-btn-hover-color:#fff;
            --bs-btn-hover-bg:#6c757d;
            --bs-btn-hover-border-color:#6c757d;
            --bs-btn-focus-shadow-rgb:108,117,125;
            --bs-btn-active-color:#fff;
            --bs-btn-active-bg:#6c757d;
            --bs-btn-active-border-color:#6c757d;
            --bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);
        }
        
        .btn-group-lg>.btn,.btn-lg{
            --bs-btn-padding-y:0.5rem;
            --bs-btn-padding-x:1rem;
            --bs-btn-font-size:1.25rem;
            --bs-btn-border-radius:0.5rem
        }
            
        .btn-group-sm>.btn,.btn-sm{
            --bs-btn-padding-y:0.25rem;
            --bs-btn-padding-x:0.5rem;
            --bs-btn-font-size:0.875rem;
            --bs-btn-border-radius:0.25rem
        }
            
        .btn-group{
            position:relative;
            display:inline-flex;
            vertical-align:middle
        }

        .btn-group>.btn{
            position:relative;
            flex:1 1 auto
        }
        
        .btn-group{border-radius:.375rem}
        .btn-group>.btn-group:not(:first-child),.btn-group>:not(.btn-check:first-child)+.btn{
            margin-left:-1px
        }
        
        .btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn.dropdown-toggle-split:first-child,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){
            border-top-right-radius:0;border-bottom-right-radius:0
        }
        
        .btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn{
            border-top-left-radius:0;border-bottom-left-radius:0
        }
        
</style>


<section>
    <p>
    You can use this page to easily generate latex code <i>GenBench Evaluation Cards</i>. 
    Just register all your experiments below, and click the generation button to generate the corresponding latex code.
    Download the code by clicking the download button, or copy it to your clipboard with the one next to it.
    The download gives a file that you can compile standalone, to include only the table in your paper, just copy over the packages to your preamble, save everything from "%Set tabular size" to the last "end tabular", and import that file using "\input{filename}".
    </p>
    <p class="mb-2">Please indicate the <a href="https://genbench.org/taxonomy/"><span
            style="font-variant: small-caps">GenBench</span> taxonomy values</a> for all the experiments in your study.
    </p>
    <div id="experiments"></div>
    <div class="mb-3">
        <button type="button" class="btn btn-outline-success" id="btn-add"><i class="bi bi-plus-circle"></i> Add Experiment</button>
    </div>
    <div class="exp-property-row">
        <button type="button" class="btn btn-primary" id="btn-generate">Generate <span style="font-variant: small-caps">GenBench</span> evaluation card</button>
        <div class="btn-group" style="display: none;" id="btn-latex-text-actions">
            <button type="button" id="btn-copy" class="btn btn-outline-secondary"><i class="bi bi-clipboard-fill"></i></button>
            <a id="btn-download" class="btn btn-outline-secondary"><i class="bi bi-cloud-arrow-down-fill"></i></a>
        </div>
    </div>
    <div id="latex-display" class="mt-3">
        <pre><code data-lang="latex" id="latex-code"></code></pre>
    </div>
</section>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.2.min.js" integrity="sha256-2krYZKh//PcchRtd+H+VyyQoZ/e3EcrkxhM8ycwASPA=" crossorigin="anonymous"></script>
<script>
    let expNum = 1;
    const attrValues = {
        'motivation': ['practical', 'cognitive', 'intrinsic', 'fairness_inclusivity'],
        'type': ['compositional', 'structural', 'across_task', 'across_language', 'across_domain', 'robustness'],
        'shift_type': ['covariate', 'label', 'full', 'assumed'],
        'shift_source': ['naturally_occurring', 'partitioned_natural_data', 'generated_shifts', 'fully_generated_data'],
        'shift_locus': ['train-test', 'finetune_train-test', 'pretrain-train', 'pretrain-test']
    }
    // symbols to define experiments
    const exp_names = {
             1: "\\firstexp",
             2: "\\secondexp",
             3: "\\thirdexp"
    }
    const exp_symbols = {
             1: "square",
             2: "bigtriangleup",
             3: "bigcirc"
     }

    const latex_header = ` \
        \n\\documentclass{standalone} \
        \n \
        \n\\usepackage{xcolor} \
        \n\\usepackage{colortbl} \
        \n\\usepackage{amssymb} \
        \n \
        \n\\begin{document} \
        \n \
        \n% Set tabular size\n\\newcommand{\\tabularwidth}{11cm}`
    let exp_defs = ""     // Create variable to store experiment symbols to be generated
    let latex_body = ""
    const axis_headers = {
          'motivation': ` \
              \n% Record the experiments' motivations \
              \n\\rowcolor{gray!60} \
              \n\\textbf{Motivation} \\\\ \
              \n\\footnotesize \
              \n\\begin{tabular}{p{2.6cm}p{2.6cm}<{\\centering} p{2.6cm}<{\\centering}p{2.6cm}<{\\centering}} \
              \n\\textit{Practical} & \\textit{Cognitive} & \\textit{Intrinsic} & \\textit{Fairness}\\\\ \
              \n\\large`,
          'type':  ` \
              \n% Record the experiments' generalisation type \
              \n\\rowcolor{gray!60} \
              \n\\textbf{Generalisation type} \\\\ \
              \n\\footnotesize \
              \n\\begin{tabular}{p{2.3cm}p{1.7cm}<{\\centering}p{1.6cm}<{\\centering}p{1.7cm}<{\\centering}p{1.7cm}<{\\centering}p{1.7cm}<{\\centering}} \
                \n\\textit{Compositional} & \\textit{Structural} & \\textit{Task} & \\textit{Language} & \\textit{Domain} & \\textit{Robustness}\\\\ \
             \n\\large`,
          'shift_type': ` \
            \n% Record the experiments' shift type \
            \n\\rowcolor{gray!60} \
            \n\\textbf{Shift type} \\\\ \
            \n\\footnotesize \
            \n\\begin{tabular}{p{2.6cm}p{2.6cm}<{\\centering}p{2.6cm}<{\\centering}p{2.6cm}<{\\centering}} \
            \n\\textit{Covariate} & \\textit{Label} & \\textit{Full} & \\textit{Assumed}\\\\ \
            \n\\large`,
        'shift_source': ` \
            \n% Record the experiments' shift source \
            \n\\rowcolor{gray!60} \
            \n\\textbf{Shift source} \\\\ \
            \n\\footnotesize \
            \n\\begin{tabular}{p{2.7cm} p{2.9cm}<{\\centering} p{2.4cm}<{\\centering} p{2.3cm}<{\\centering}} \
            \n\\textit{Naturally occuring} & \\textit{Partitioned natural} & \\textit{Generated shift} & \\textit{Fully generated}\\\\ \
            \n\\large`,
        'shift_locus': ` \
            \n% Record the experiments' shift locus \
            \n\\rowcolor{gray!60} \
            \n\\textbf{Shift locus}\\\\ \
            \n\\footnotesize \
            \n\\begin{tabular}{p{2.1cm}p{3.1cm}<{\\centering} p{2.5cm}<{\\centering} p{2.4cm}<{\\centering}} \
            \n\\textit{Train--test} & \\textit{Finetune train--test} & \\textit{Pretrain--train} & \\textit{Pretrain--test}\\\\ \
            \n\\large`,
     }
    const axes_footer = "\n\\vspace{2mm} \\\\\n\\end{tabular}\\\\\n"

    const latex_footer = "\n\\end{document}"
    const table_header = `\
        \n% Create table \
        \n\\renewcommand{\\arraystretch}{1.1} \
        \n\\setlength{\\tabcolsep}{0mm} \
        \n\\begin{tabular}{|p{\\tabularwidth}<{\\centering}|} \
        \n\\hline\n`

    const table_footer = "\n\\hline\n\\end{tabular}\n"

    function generateLatex() {
        // Add experiment symbols
        latex_body = "\n\n% Set symbols for experiments\n"
        exp_defs = ''
        for (let eNum = 1; eNum < expNum; eNum++) {
            // exp_defs += "\n" + exp_symbols[eNum];
            exp_defs += "\\newcommand{" + exp_names[eNum] + "}{$\\" + exp_symbols[eNum] + "$}\n";
        }

        // Add table header
        latex_body += exp_defs;
        latex_body += table_header;

        // Loop over axes
        for (const [axis, header] of Object.entries(axis_headers)) {
            // Add axis subtable header
            latex_body += header + "\n";

             // Loop over values for current axis
             for (const valIndex in attrValues[axis]) {
                 const valName = attrValues[axis][valIndex]
                // loop over recorded experiments
                for (let eNum = 1; eNum < expNum; eNum++) {
                    // check if value is ticked for current experiment
                    if ($('#exp-'+eNum+'-'+axis+'-'+valName).is(':checked')) {
                        latex_body += exp_names[eNum] + "\\hspace{0.5mm}";
                     }
                 }

                // Make sure ampersands get added
                if (valIndex!==0) {
                    latex_body += "& \\large";
                }
                latex_body += "\t\t% " + valName + "\n";
            }

            // Add axis sub-table footer
            latex_body += axes_footer
        }

        latex_body += table_footer
        $('#latex-code').empty().append(latex_header + latex_body + latex_footer);
        $("#btn-copy").html('<i class="bi bi-clipboard-fill"></i>');
        setDownloadLink();
        $('#btn-latex-text-actions').show();
    }
    
    function copyToClip() {
        const textToCopy = $('#latex-code').text();
        function listener(e) {
            e.clipboardData.setData("text/html", textToCopy);
            e.clipboardData.setData("text/plain", textToCopy);
            e.preventDefault();
            $("#btn-copy").html('<i class="bi bi-clipboard-check-fill"></i>')
        }
        document.addEventListener("copy", listener);
        document.execCommand("copy");
        document.removeEventListener("copy", listener);
    }
    
    function setDownloadLink() {
        const textToCopy = $('#latex-code').text();
        $('#btn-download').attr("download", "GenBench_eval_card.tex").attr("href", "data:application/octet-stream;charset=utf-8," +  encodeURIComponent(textToCopy));
    }

    function addExperiment(){
        const expElem = $('<div class="experiment mb-3">')
            .append($('<h4>').text('Experiment ' + expNum));
        for (const [key, value] of Object.entries(attrValues)) {
            const rowElem = $('<div class="exp-property-row">');
            const checkboxesElem = $('<div class="exp-property-col exp-property-checkboxes">');
            rowElem.append($('<div class="exp-property-col property">').text(key.replace('_',' ')))
            for (const propIndex in value) {
                const propertyName = value[propIndex];
                checkboxesElem
                    .append($('<input type="checkbox" id="exp-'+expNum+'-'+key+'-'+propertyName+'">'))
                    .append($('<label class="field-label" for="exp-'+expNum+'-'+key+'-'+propertyName+'">'+propertyName.replaceAll('_',' ')+'</label>'))
            }
            rowElem.append(checkboxesElem);
            expElem.append(rowElem);
        }

        $('#experiments').append(expElem);
        expNum += 1;
    }
    $('#btn-add').click(addExperiment);
    $('#btn-generate').click(generateLatex);
    $('#btn-copy').click(copyToClip);
</script>
